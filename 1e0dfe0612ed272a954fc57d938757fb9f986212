{
  "comments": [
    {
      "key": {
        "uuid": "71cff577_5c36ac2a",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-01-09T23:17:20Z",
      "side": 1,
      "message": "2019",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e64e8036_83f0b7a7",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "Shouldn\u0027t this be escaped?\n\nWe are looking for a string like \"git-upload-pack./myproject\", correct?\n\nIf so I think the dot and slash both need to be escaped.",
      "range": {
        "startLine": 34,
        "startChar": 101,
        "endLine": 34,
        "endChar": 102
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb71f4db_b7744f50",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e64e8036_83f0b7a7",
      "range": {
        "startLine": 34,
        "startChar": 101,
        "endLine": 34,
        "endChar": 102
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c44ac0c8_4881d282",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "I believe there could be a \"replication list\" command as well: https://gerrit.wikimedia.org/r/plugins/replication/Documentation/cmd-list.md",
      "range": {
        "startLine": 35,
        "startChar": 78,
        "endLine": 35,
        "endChar": 83
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "773c895c_9f3869e4",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "In the two weeks of auditlog samples I have snapshotted from production there\u0027s not a single auditlog referring to `replication.list`.\nAlso, I think replication.list does not take project(s) as parameters, does it?",
      "parentUuid": "c44ac0c8_4881d282",
      "range": {
        "startLine": 35,
        "startChar": 78,
        "endLine": 35,
        "endChar": 83
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fed5daf9_f0ba81b4",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "It might be useful to put a couple of examples of cases we are dealing with, otherwise, it is hard to understand the need of these 2 function without context.",
      "range": {
        "startLine": 45,
        "startChar": 2,
        "endLine": 53,
        "endChar": 24
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c30ee799_fd670708",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fed5daf9_f0ba81b4",
      "range": {
        "startLine": 45,
        "startChar": 2,
        "endLine": 53,
        "endChar": 24
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd139304_1df41e71",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "What is a read-only state? I can\u0027t find it in the project API docs: https://gerrit-review.googlesource.com/Documentation/rest-api-projects.html#project-endpoints",
      "range": {
        "startLine": 90,
        "startChar": 92,
        "endLine": 90,
        "endChar": 101
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5dec134_0c31542c",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjects.scala",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "not sure if it\u0027s documented, but this is the call issued by gerrit in 2.16 to populate the list of projects.\n\nif you look at the network traffic issued by the page at https://review.gerrithub.io/admin/repos, you\u0027ll see that\u0027s the request.",
      "parentUuid": "dd139304_1df41e71",
      "range": {
        "startLine": 90,
        "startChar": 92,
        "endLine": 90,
        "endChar": 101
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d462bc8_04854415",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/spark/AuditLogsTransformer.scala",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-01-09T23:17:20Z",
      "side": 1,
      "message": "A couple of things\n1. Not clear to me the reason for doing the conversion toJsonString and then to toJsonTableDataFrame. In the end it\u0027s still the content of the RDD[AuditEvent] filtered by a timeRange, or am I missing something?\n\n2. Wherever possible I believe it\u0027s good practice to return a Dataset of a case class rather than the Dataframe. It makes it easier to understand the schema of the data and how it evolves as it goes through the various transformations.\nIt seems to me that the code is simply enriching the AuditEvent with extra columns",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e836bc34_f25d84cd",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/spark/AuditLogsTransformer.scala",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Yep the code is enriching the AuditEvent with extra columns, but then is also aggregating the those events.\nIf we were returning a DataSet, this would need to be a DataSet[AggregatedAuditEvent].\nAggregatedAuditEvent would be an ephemeral model class which will exist briefly with the only purpose of then being json-serialized to be indexed into elasticsearch.\n\nFor this reason, I think a Row is a good representation of what this method does (it is also tested, so it should be clear).\n\nPerhaps I haven\u0027t fully understood your point though, do you want to suggest an alternative solution? I\u0027d be curious to see",
      "parentUuid": "7d462bc8_04854415",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c3825bd_548c79a7",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/util/RegexUtil.scala",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-01-09T23:17:20Z",
      "side": 1,
      "message": "2019",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82ffff53_78a602f6",
        "filename": "auditlog/src/main/scala/com/gerritforge/analytics/auditlog/util/RegexUtil.scala",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c3825bd_548c79a7",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e63efae3_3284442d",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1065251
      },
      "writtenOn": "2019-01-09T23:17:20Z",
      "side": 1,
      "message": "2019",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2acaa67a_f8f1b32e",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e63efae3_3284442d",
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e861b2a_645cf313",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "typo -\u003e \"is well separated by a space\"",
      "range": {
        "startLine": 45,
        "startChar": 78,
        "endLine": 45,
        "endChar": 108
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d23b6b8d_5b5b4d7f",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e861b2a_645cf313",
      "range": {
        "startLine": 45,
        "startChar": 78,
        "endLine": 45,
        "endChar": 108
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f676c922_76c41c68",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "Is this the space we are referring to in the test title?",
      "range": {
        "startLine": 47,
        "startChar": 80,
        "endLine": 47,
        "endChar": 81
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41d7036b_bb31199f",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/broadcast/GerritProjectsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "yep, that\u0027s the one",
      "parentUuid": "f676c922_76c41c68",
      "range": {
        "startLine": 47,
        "startChar": 80,
        "endLine": 47,
        "endChar": 81
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f94af942_1d932016",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/spark/sql/udf/SparkExtractorsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-01-10T09:28:34Z",
      "side": 1,
      "message": "These are not used",
      "range": {
        "startLine": 17,
        "startChar": 1,
        "endLine": 19,
        "endChar": 83
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb4cb9ca_75924af8",
        "filename": "auditlog/src/test/scala/com/gerritforge/analytics/auditlog/spark/sql/udf/SparkExtractorsSpec.scala",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2019-01-10T19:08:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f94af942_1d932016",
      "range": {
        "startLine": 17,
        "startChar": 1,
        "endLine": 19,
        "endChar": 83
      },
      "revId": "1e0dfe0612ed272a954fc57d938757fb9f986212",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}